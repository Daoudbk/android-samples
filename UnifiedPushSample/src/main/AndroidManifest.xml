<?xml version="1.0" encoding="utf-8"?>
<manifest
    xmlns:android="http://schemas.android.com/apk/res/android"
    package="com.urbanairship.combined.sample">

    <!-- REQUIRED PERMISSIONS for PUSH -->
    <uses-permission android:name="android.permission.INTERNET"/>
    <uses-permission android:name="android.permission.ACCESS_NETWORK_STATE"/>
    <uses-permission android:name="android.permission.VIBRATE"/>
    <uses-permission android:name="android.permission.WAKE_LOCK"/>

    <!-- REQUIRED PERMISSION -  Ensure that only this application has access to the Urban Airship provider -->
    <permission android:name="${applicationId}.permission.UA_DATA" android:protectionLevel="signature"/>
    <uses-permission android:name="${applicationId}.permission.UA_DATA"/>

    <!--  END Urban Airship Required Permissions -->

    <!-- OPTIONAL Urban Airship Settings -->
    <!-- REQUIRED FOR LOCATION -->
    <!-- Use ACCESS_COARSE_LOCATION if GPS access is not necessary -->
    <!-- uses-permission android:name="android.permission.ACCESS_COARSE_LOCATION" /-->
    <uses-permission android:name="android.permission.ACCESS_FINE_LOCATION"/>

    <!--  OPTIONAL - This permission is only necessary if your app has multiple processes -->
    <!--  <uses-permission android:name="android.permission.BROADCAST_STICKY" /> -->

    <!-- END OPTIONAL Urban Airship Settings -->

    <application android:name=".MyApplication"
                 android:allowClearUserData="true"
                 android:enabled="true"
                 android:icon="@drawable/icon"
                 android:label="@string/app_name">


        <activity android:name=".MainActivity"
                  android:label="@string/app_name"
                  android:launchMode="singleTask">
            <intent-filter>
                <action android:name="android.intent.action.MAIN"/>
                <category android:name="android.intent.category.LAUNCHER"/>
            </intent-filter>
        </activity>

        <activity android:name=".preference.PreferencesActivity"/>


        <!-- Optional: This is an example of one of the many ways to handle deep
       linking in the application.  To use with your application, update the data
       scheme to be unique for the application and modify ParseDeepLinkActivity.parseDeepLink
       method to match your application's deep link parsing -->
        <activity android:name=".ParseDeepLinkActivity">
            <intent-filter>
                <action android:name="android.intent.action.VIEW"/>

                <!-- Handles any vnd.urbanairship.push://deeplink URI's -->
                <data android:host="deeplink" android:scheme="vnd.urbanairship.push"/>

                <category android:name="android.intent.category.DEFAULT"/>
                <category android:name="android.intent.category.BROWSABLE"/>
            </intent-filter>
        </activity>

        <!-- Needed for Action.startActivityForResult -->
        <activity android:name="com.urbanairship.actions.ActionActivity"/>

        <!-- MODIFICATION REQUIRED
            - Set or Remove the parent activity
            - For more customization details, see com.urbanairship.actions.LandingPageActivity -->
        <activity
            android:name="com.urbanairship.actions.LandingPageActivity"
            android:exported="false"
            android:parentActivityName=".MainActivity">

            <meta-data
                android:name="android.support.PARENT_ACTIVITY"
                android:value="com.urbanairship.combined.sample.MainActivity"/>

            <intent-filter>
                <action android:name="com.urbanairship.actions.SHOW_LANDING_PAGE_INTENT_ACTION"/>
                <data android:scheme="http"/>
                <data android:scheme="https"/>
                <category android:name="android.intent.category.DEFAULT"/>
            </intent-filter>
        </activity>

        <service android:name="com.urbanairship.push.PushService" android:label="Push Notification Service"/>
        <service android:name="com.urbanairship.analytics.EventService" android:label="Event Service"/>
        <service android:name="com.urbanairship.actions.ActionService"/>

        <!-- REQUIRED for Urban Airship Push -->
        <receiver android:name="com.urbanairship.CoreReceiver" />

        <!-- This is required for persisting preferences related to push and location -->
        <provider android:name="com.urbanairship.UrbanAirshipProvider"
                  android:authorities="${applicationId}.urbanairship.provider"
                  android:exported="true"
                  android:multiprocess="true"
                  android:permission="${applicationId}.permission.UA_DATA"/>

        <!-- END OF REQUIRED ITEMS -->


        <!-- OPTIONAL (for segments support) -->
        <service android:name="com.urbanairship.location.LocationService" android:label="Segments Service"/>

        <!-- OPTIONAL, if you want to receive push, push opened and registration completed intents -->
        <!-- Replace the receiver below with your package and class name -->
        <receiver android:name=".IntentReceiver"/>


    </application>

</manifest>
